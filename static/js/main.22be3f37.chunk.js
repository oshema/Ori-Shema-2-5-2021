(this["webpackJsonpherolo-weather-app"]=this["webpackJsonpherolo-weather-app"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(8),o=a.n(n),i=a(33),s=(a(100),a(13)),l=(a(101),a.p+"static/media/cloudSearch.f365180e.png"),u=a(17),j=a.n(u),d=a(24),b=a(16),O=(a(103),a(104),a(14)),h=a(27),f=a.n(h),p=function(e){return{type:"FETCH_WEATHER_FAILURE",error:e}},m=function(e,t){return function(){var a=Object(d.a)(j.a.mark((function a(c){var r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:"FETCH_WEATHER_REQUEST"}),"SL956ifEH5G6uGpeRoa4cKqomPiIvzeM",a.next=5,f.a.get("https://dataservice.accuweather.com/currentconditions/v1/".concat(e,"?apikey=").concat("SL956ifEH5G6uGpeRoa4cKqomPiIvzeM"));case 5:r=a.sent,c({type:"FETCH_WEATHER_SUCCESS",payload:{data:r.data[0],location:t,key:e}}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),a.t0.response?c(p(a.t0.response.data.Message)):c(p(a.t0.message));case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},v=function(e){return{type:"FETCH_FORECAST_FAILURE",error:e}},x=function(e){return function(){var t=Object(d.a)(j.a.mark((function t(a){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"FETCH_FORECAST_REQUEST"}),"SL956ifEH5G6uGpeRoa4cKqomPiIvzeM",t.next=5,f.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat("SL956ifEH5G6uGpeRoa4cKqomPiIvzeM","&details=false&metric=true"));case 5:c=t.sent,a({type:"FETCH_FORECAST_SUCCESS",payload:c.data.DailyForecasts}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response?a(v(t.t0.response.data.Message)):a(v(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},g=a(172),y=a(176),E=a(143),S=a(177),T=function(e,t){return{type:"ADD_FAVORITE",payload:{locationKey:e,locationName:t}}},N=function(e){return{type:"ADD_FAVORITE_FAILURE",error:e}},w=function(e){return{type:"FETCH_FAVORITES_FAILURE",error:e}},I=a(84),F=a.n(I),C=a(83),R=a.n(C),_=a(2);var A=function(e){var t=e.locationKey,a=e.locationName,r=e.iconSize,n=Object(c.useState)(!1),o=Object(b.a)(n,2),i=o[0],s=o[1],l=Object(O.b)(),u=Object(O.c)((function(e){return e.favorites})).locationKeys;Object(c.useEffect)((function(){h(t,u)}),[t,u]);var h=function(e,t){var a=t.includes(e);s(!!a)},f=function(){var e,c;l(i?function(e,t){return{type:"REMOVE_FAVORITE",payload:{locationKey:e,locationName:t}}}(t,a):(e=t,c=a,function(){var t=Object(d.a)(j.a.mark((function t(a,r){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r().favorites.locationKeys.length>4?(a(N("You can only have 5 favorites")),setTimeout((function(){a(N(""))}),3e3)):a(T(e,c));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()))},p=Object(g.a)({emptyHeart:{fontSize:r,color:"rgb(128, 128, 128)"},fullHeart:{fontSize:r,color:"rgb(233, 48, 88);"}})();return Object(_.jsx)("div",{children:Object(_.jsx)(E.a,{onClick:function(){return f()},children:i?Object(_.jsx)(R.a,{className:p.fullHeart}):Object(_.jsx)(F.a,{className:p.emptyHeart})})})};var H=function(e){var t=e.city,a=e.country,c=e.locationKey,r=e.clearList,n=Object(O.b)(),o=Object(g.a)((function(e){return{listItem:{height:45,width:570,fontSize:"15px","&:hover":{cursor:"pointer",backgroundColor:e.palette.grey[100]},"@media (max-width: 900px)":{maxWidth:270},"@media (max-width: 600px)":{width:"100%"}}}}))();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"searchItemLayout",children:[Object(_.jsx)(E.a,{onClick:function(){return r(""),n(m(c,t)),void n(x(c))},children:Object(_.jsx)(y.a,{className:o.listItem,children:Object(_.jsx)("span",{children:"".concat(a," / ").concat(t)})})}),Object(_.jsx)("div",{className:"favoriteButtonLayout",children:Object(_.jsx)(A,{locationKey:c,locationName:t})})]}),Object(_.jsx)(S.a,{})]})},k=a(180),L=a(182),K=a(85),D=a.n(K),M=a(179),U=a(178),z=a(183),W=a(184);var V=function(e){var t=e.errorMessage;return Object(_.jsx)("div",{children:Object(_.jsxs)(z.a,{severity:"error",children:[Object(_.jsx)(W.a,{children:"Error"}),Object(_.jsx)("strong",{children:t})]})})};var G=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(!1),o=Object(b.a)(n,2),i=o[0],s=o[1],l=Object(c.useState)(""),u=Object(b.a)(l,2),O=u[0],h=u[1],p=Object(c.useState)(""),m=Object(b.a)(p,2),v=m[0],x=m[1],y=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(t),"SL956ifEH5G6uGpeRoa4cKqomPiIvzeM","https://dataservice.accuweather.com/locations/v1/cities/autocomplete",a="".concat("https://dataservice.accuweather.com/locations/v1/cities/autocomplete","?q=").concat(t,"&apikey=").concat("SL956ifEH5G6uGpeRoa4cKqomPiIvzeM"),!(t.length>1)){e.next=18;break}return s(!0),e.prev=6,e.next=9,f.a.get(a);case 9:c=e.sent,n=S(c.data),h(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),e.t0.response?(x(e.t0.response.data.Message),setTimeout((function(){x(!1)}),3e3)):(x(e.t0.message),setTimeout((function(){x(!1)}),3e3));case 17:s(!1);case 18:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e){return e.map((function(e){return{country:e.Country.LocalizedName,city:e.LocalizedName,key:e.Key}}))},T=Object(g.a)((function(){return{list:{position:"absolute",width:"100%",maxWidth:600,overflow:"auto",maxHeight:135,backgroundColor:"rgba(148, 240, 240, 0.075);","@media (max-width: 900px)":{maxWidth:300,maxHeight:100}},searchIcon:{fontSize:"50px","@media (max-width: 900px)":{display:"none"}}}}))();return Object(_.jsx)("div",{children:Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"searchBarContainer",children:[Object(_.jsx)(L.a,{className:"searchBar",label:"What's The Weather In...",placeholder:"Search",variant:"outlined",value:a,onChange:function(e){y(e.target.value)}}),Object(_.jsx)(E.a,{className:T.searchIcon,onClick:function(){return y(a)},children:Object(_.jsx)(D.a,{className:T.searchIcon})})]}),v?Object(_.jsx)(V,{errorMessage:v}):i?Object(_.jsx)(M.a,{size:100,className:"loading"}):O&&Object(_.jsx)(k.a,{onClickAway:function(){return h("")},children:Object(_.jsx)(U.a,{className:T.list,children:O.map((function(e){return Object(_.jsx)(H,{city:e.city,country:e.country,locationKey:e.key,clearList:h},e.key)}))})})]})})},P=(a(132),a(133),function(e){return e<10?"https://developer.accuweather.com/sites/default/files/0".concat(e,"-s.png"):"https://developer.accuweather.com/sites/default/files/".concat(e,"-s.png")}),q=function(e){return e>29?"linear-gradient(to top, #fddb92 0%, #d1fdff 100%)":e>22&&e<30?"linear-gradient(to top, #fff1eb 0%, #ace0f9 100%)":e<23&&e>12?"linear-gradient(45deg, #93a5cf 0%, #e4efe9 100%)":e<13&&e>0?"linear-gradient(to top, #6a85b6 0%, #bac8e0 100%)":"linear-gradient(to top, #dfe9f3 0%, white 100%)"},B=a(181);var Q=function(e){var t=e.location,a=e.temperature,r=e.info,n=e.imageURL,o=e.locationKey,i=e.buttonSize,l=e.isFavoriteButton,u=void 0===l||l,j=e.clickable,d=void 0!==j&&j,h=Object(s.f)(),f=Object(O.b)(),p=Object(c.useState)("linear-gradient(to top, #fff1eb 0%, #ace0f9 100%)"),v=Object(b.a)(p,2),y=v[0],S=v[1],T=Object(c.useState)(""),N=Object(b.a)(T,2),w=N[0],I=N[1];Object(c.useEffect)((function(){var e=P(n);I(e);var t=q(a);S(t)}),[n,a]);var F=Object(g.a)({card:{marginTop:"20px",width:"250px",height:"240px",backgroundImage:y,overflow:"auto","@media (max-width: 900px)":{width:"auto",maxWidth:"250px",maxHeight:"150px",marginTop:"80px",marginLeft:"20px"}},favoriteCards:{marginTop:"20px",width:"200px",height:"240px",backgroundImage:y,overflow:"auto","&:hover":{boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"},"@media (max-width: 1000px)":{width:"150px"},"@media (max-width: 750px)":{height:"75px"}},button:{"&:hover":{cursor:"pointer"}}})();return Object(_.jsx)("div",{children:Object(_.jsx)(_.Fragment,{children:d?Object(_.jsx)(E.a,{onClick:function(){return f(m(o,t)),f(x(o)),void h.push("/")},children:Object(_.jsxs)(B.a,{className:F.favoriteCards,children:[Object(_.jsx)("div",{className:"titleFavorite",children:"".concat(t)}),Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"tempAndIconLayout",children:[Object(_.jsx)("div",{className:"tempFavorite",children:"".concat(a,"\xb0")}),Object(_.jsx)("div",{children:Object(_.jsx)("img",{className:"iconFavorite",src:"".concat(w),alt:"".concat(r)})})]}),Object(_.jsx)("div",{className:"info",children:r})]})]})}):Object(_.jsxs)(B.a,{className:F.card,children:[Object(_.jsx)("div",{className:"weatherTitle",children:"".concat(t)}),Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"tempAndIconLayout",children:[Object(_.jsx)("div",{className:"temp",children:"".concat(a,"\xb0")}),Object(_.jsx)("div",{children:Object(_.jsx)("img",{className:"icon",src:"".concat(w),alt:"".concat(r)})})]}),Object(_.jsx)("div",{className:"info",children:r})]}),u&&Object(_.jsx)("div",{className:"favoriteButton",children:Object(_.jsx)(A,{locationKey:o,locationName:t,iconSize:i})})]})})})};var J=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.currentWeather})),a=t.loading,r=t.weatherData,n=t.location,o=t.key,i=t.error;return Object(c.useEffect)((function(){o||e(m("215854","Tel Aviv"))}),[]),Object(_.jsx)("div",{children:i?Object(_.jsx)(V,{errorMessage:i}):a?Object(_.jsx)(M.a,{size:200,color:"secondary"}):0!==r.length&&(o?Object(_.jsx)(Q,{location:n,temperature:r.Temperature.Metric.Value,info:r.WeatherText,imageURL:r.WeatherIcon,locationKey:o,buttonSize:"48px"}):Object(_.jsx)(Q,{location:"Tel Aviv",temperature:r.Temperature.Metric.Value,info:r.WeatherText,imageURL:r.WeatherIcon,locationKey:"215854",buttonSize:"48px"}))})};a(136),a(137);var Y=function(e){var t=e.day,a=e.night,r=e.temp,n=e.date,o=Object(c.useState)(""),i=Object(b.a)(o,2),s=i[0],l=i[1],u=Object(c.useState)(""),j=Object(b.a)(u,2),d=j[0],O=j[1],h=Object(c.useState)(""),f=Object(b.a)(h,2),p=f[0],m=f[1],v=Object(c.useState)(""),x=Object(b.a)(v,2),y=x[0],E=x[1],T=Object(c.useState)(""),N=Object(b.a)(T,2),w=N[0],I=N[1],F=Object(c.useState)(""),C=Object(b.a)(F,2),R=C[0],A=C[1],H=Object(c.useState)("linear-gradient(to top, #fff1eb 0%, #ace0f9 100%)"),k=Object(b.a)(H,2),L=k[0],K=k[1];Object(c.useEffect)((function(){l(P(t.Icon)),O(P(a.Icon)),m(D(n)),E(r.Maximum.Value),I(r.Minimum.Value)}),[e]),Object(c.useEffect)((function(){var e=(y+w)/2;e=Math.round(10*e)/10,A(e);var t=q(e);K(t)}),[y,w]);var D=function(e){return new Date(e).toDateString().split(" ")[0]},M=Object(g.a)({card:{marginTop:"20px",maxWidth:"250px",height:"170px",backgroundImage:L,overflow:"auto","@media (max-width: 1060px)":{maxWidth:"150px"}}})();return Object(_.jsxs)("div",{className:"forecastCardLayout",children:[Object(_.jsx)("div",{className:"dayTitle",children:p}),Object(_.jsxs)(B.a,{className:M.card,children:[Object(_.jsx)("div",{className:"ForecastsTemp",children:"".concat(y,"\xb0 - ").concat(w,"\xb0")}),Object(_.jsx)("div",{className:"minimizeForecastTemp",children:R}),Object(_.jsxs)("div",{className:"nightAndDayLayout",children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{children:"".concat(t.IconPhrase)}),Object(_.jsx)("img",{src:"".concat(s),alt:"".concat(t.IconPhrase)})]}),Object(_.jsx)(S.a,{orientation:"vertical",flexItem:!0}),Object(_.jsxs)("div",{className:"nightInfo",children:[Object(_.jsx)("div",{children:"".concat(a.IconPhrase)}),Object(_.jsx)("img",{src:"".concat(d),alt:"".concat(a.IconPhrase)})]})]})]})]})};var X=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.forecast})),a=t.forecastData,r=t.loading,n=t.error;return Object(c.useEffect)((function(){e(x("215854"))}),[]),n?Object(_.jsx)(V,{errorMessage:n}):Object(_.jsx)("div",{className:"forecastLayout",children:r?Object(_.jsx)(M.a,{size:200,color:"secondary"}):0!=a.length&&a.map((function(e,t){return Object(_.jsx)(Y,{day:e.Day,night:e.Night,temp:e.Temperature,date:e.Date},t)}))})};var Z=function(){return Object(_.jsxs)("div",{className:"mainImg",children:[Object(_.jsxs)("div",{className:"topHeroContainer",children:[Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"searchLogoContainer",children:[Object(_.jsx)("img",{className:"searchImg",src:l}),Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"searchTitle",children:"Cloud Search"}),Object(_.jsx)("div",{className:"searchSubtitle",children:"Your way to get around the weather"})]})]}),Object(_.jsx)(G,{})]}),Object(_.jsx)("div",{children:Object(_.jsx)(J,{})})]}),Object(_.jsx)(X,{})]})},$=(a(138),a.p+"static/media/favorite_star.27cebb77.png");var ee=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.favorites})),a=t.favoritesData,r=t.locationKeys,n=t.locationNames,o=t.loading,i=t.error;return Object(c.useEffect)((function(){e(function(){var e=Object(d.a)(j.a.mark((function e(t,a){var c,r,n,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a().favorites.locationKeys,t({type:"FETCH_FAVORITES_REQUEST"}),r=c.map(function(){var e=Object(d.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat("SL956ifEH5G6uGpeRoa4cKqomPiIvzeM"));case 3:return a=e.sent,e.abrupt("return",a.data[0]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{err:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),e.next=6,Promise.all(r);case 6:n=e.sent,0===(o=n.filter((function(e){return e.err}))).length?t({type:"FETCH_FAVORITES_SUCCESS",payload:n}):o[0].err.response?t(w(o[0].err.response.data.Message)):t(w(o[0].err.message));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}),[]),Object(_.jsxs)("div",{className:"mainImg",children:[Object(_.jsx)("div",{children:Object(_.jsx)("img",{className:"starImage",src:$})}),i?Object(_.jsx)(V,{errorMessage:i}):Object(_.jsx)("div",{className:"favoritesItemsLayout",children:o?Object(_.jsx)(M.a,{size:200,color:"secondary"}):0!=a.length&&a.map((function(e,t){return Object(_.jsx)(Q,{location:n[t],temperature:e.Temperature.Metric.Value,info:e.WeatherText,imageURL:e.WeatherIcon,locationKey:r[t],isFavoriteButton:!1,clickable:!0},r[t])}))})]})};a(139);var te=function(){var e=Object(O.c)((function(e){return e.favorites.limitError}));return Object(_.jsx)("div",{className:"nav",children:Object(_.jsxs)("div",{className:"manuContainer",children:[Object(_.jsx)(i.b,{className:"homeLink",to:"/",children:"Home"}),Object(_.jsx)(i.b,{className:"favoritesLink",to:"/favorites",children:"Favorites"}),Object(_.jsx)("span",{className:"favoritesError",children:e})]})})};var ae=function(){return Object(_.jsxs)("div",{children:[Object(_.jsx)(te,{}),Object(_.jsxs)(s.c,{children:[Object(_.jsx)(s.a,{exact:!0,path:"/",children:Object(_.jsx)(Z,{})}),Object(_.jsx)(s.a,{path:"/favorites",children:Object(_.jsx)(ee,{})})]})]})},ce=a(39),re=a(10),ne={loading:!1,weatherData:"",location:"",key:"",error:""},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER_REQUEST":return Object(re.a)(Object(re.a)({},e),{},{loading:!0});case"FETCH_WEATHER_SUCCESS":return Object(re.a)(Object(re.a)({},e),{},{loading:!1,weatherData:t.payload.data,location:t.payload.location,key:t.payload.key,error:""});case"FETCH_WEATHER_FAILURE":return Object(re.a)(Object(re.a)({},e),{},{loading:!1,weatherData:[],location:"",key:"",error:t.error});default:return e}},ie={loading:!1,forecastData:[],error:""},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FORECAST_REQUEST":return Object(re.a)(Object(re.a)({},e),{},{loading:!0});case"FETCH_FORECAST_SUCCESS":return Object(re.a)(Object(re.a)({},e),{},{loading:!1,forecastData:t.payload,error:""});case"FETCH_FORECAST_FAILURE":return Object(re.a)(Object(re.a)({},e),{},{loading:!1,forecastData:[],error:t.error});default:return e}},le=a(66),ue={loading:!1,favoritesData:[],locationKeys:[],locationNames:[],error:"",limitError:""},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":return Object(re.a)(Object(re.a)({},e),{},{locationKeys:[].concat(Object(le.a)(e.locationKeys),[t.payload.locationKey]),locationNames:[].concat(Object(le.a)(e.locationNames),[t.payload.locationName]),limitError:""});case"REMOVE_FAVORITE":return Object(re.a)(Object(re.a)({},e),{},{locationKeys:e.locationKeys.filter((function(e){return t.payload.locationKey!==e})),locationNames:e.locationNames.filter((function(e){return t.payload.locationName!==e})),limitError:""});case"ADD_FAVORITE_FAILURE":return Object(re.a)(Object(re.a)({},e),{},{limitError:t.error});case"FETCH_FAVORITES_REQUEST":return Object(re.a)(Object(re.a)({},e),{},{loading:!0});case"FETCH_FAVORITES_SUCCESS":return Object(re.a)(Object(re.a)({},e),{},{loading:!1,favoritesData:t.payload,error:""});case"FETCH_FAVORITES_FAILURE":return Object(re.a)(Object(re.a)({},e),{},{loading:!1,favoritesData:[],error:t.error});default:return e}},de=Object(ce.combineReducers)({currentWeather:oe,forecast:se,favorites:je}),be=a(86),Oe=a(87),he=Object(ce.createStore)(de,Object(Oe.composeWithDevTools)(Object(ce.applyMiddleware)(be.a)));o.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(i.a,{children:Object(_.jsx)(O.a,{store:he,children:Object(_.jsx)(ae,{})})})}),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.22be3f37.chunk.js.map